{"ast":null,"code":"import { APPEND_MESSAGE, IS_TYPING, NOT_TYPING, JUST_JOINED, LOAD_MESSAGES } from '../types';\nexport function loadMessages() {\n  return async dispatch => {\n    try {\n      const response = await fetch('http://localhost:8080/api/messages');\n      const data = await response.json();\n      dispatch({\n        type: LOAD_MESSAGES,\n        payload: data\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n}\nexport function AppendMessage(data) {\n  return async dispatch => {\n    console.log({ ...data\n    });\n\n    try {\n      const response = await fetch('http://localhost:8080/api/messages', {\n        headers: {\n          'Contetnt-Type': 'application/json'\n        },\n        method: 'POST',\n        body: JSON.stringify(data)\n      });\n      const req = await response.json(); // console.log(req)\n\n      dispatch({\n        type: APPEND_MESSAGE,\n        payload: { ...data\n        }\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n}\nexport function isTyping(data) {\n  return {\n    type: IS_TYPING,\n    payload: { ...data\n    }\n  };\n}\nexport function justJoined(bool) {\n  return {\n    type: JUST_JOINED,\n    payload: {\n      success: bool\n    }\n  };\n}\nexport function notTyping(data) {\n  return {\n    type: NOT_TYPING,\n    payload: { ...data\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/devor/Documents/NodeChat/client/src/redux/actions/chatActions.js"],"names":["APPEND_MESSAGE","IS_TYPING","NOT_TYPING","JUST_JOINED","LOAD_MESSAGES","loadMessages","dispatch","response","fetch","data","json","type","payload","err","console","log","AppendMessage","headers","method","body","JSON","stringify","req","isTyping","justJoined","bool","success","notTyping"],"mappings":"AAAA,SAAQA,cAAR,EAAwBC,SAAxB,EAAmCC,UAAnC,EAA+CC,WAA/C,EAA4DC,aAA5D,QAAiF,UAAjF;AAEA,OAAO,SAASC,YAAT,GAAuB;AAC1B,SAAO,MAAMC,QAAN,IAAiB;AACpB,QAAG;AACC,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,oCAAD,CAA5B;AACA,YAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACAJ,MAAAA,QAAQ,CAAC;AACLK,QAAAA,IAAI,EAAEP,aADD;AAELQ,QAAAA,OAAO,EAAEH;AAFJ,OAAD,CAAR;AAIH,KAPD,CAQA,OAAMI,GAAN,EAAU;AACNC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AACJ,GAZD;AAaH;AAED,OAAO,SAASG,aAAT,CAAuBP,IAAvB,EAA4B;AAC/B,SAAO,MAAMH,QAAN,IAAkB;AACrBQ,IAAAA,OAAO,CAACC,GAAR,CAAY,EAAC,GAAGN;AAAJ,KAAZ;;AACA,QAAG;AACC,YAAMF,QAAQ,GAAG,MAAMC,KAAK,CAAC,oCAAD,EAAsC;AAC9DS,QAAAA,OAAO,EAAC;AAAC,2BAAiB;AAAlB,SADsD;AAE9DC,QAAAA,MAAM,EAAE,MAFsD;AAG9DC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeZ,IAAf;AAHwD,OAAtC,CAA5B;AAKA,YAAMa,GAAG,GAAG,MAAMf,QAAQ,CAACG,IAAT,EAAlB,CAND,CAOC;;AAEAJ,MAAAA,QAAQ,CAAC;AACLK,QAAAA,IAAI,EAAEX,cADD;AAELY,QAAAA,OAAO,EAAE,EAAC,GAAGH;AAAJ;AAFJ,OAAD,CAAR;AAIH,KAbD,CAcA,OAAMI,GAAN,EAAU;AACNC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AAEJ,GApBD;AAqBH;AAED,OAAO,SAASU,QAAT,CAAkBd,IAAlB,EAAuB;AAC1B,SAAM;AACFE,IAAAA,IAAI,EAAEV,SADJ;AAEFW,IAAAA,OAAO,EAAE,EAAC,GAAGH;AAAJ;AAFP,GAAN;AAIH;AAED,OAAO,SAASe,UAAT,CAAoBC,IAApB,EAAyB;AAC5B,SAAM;AACFd,IAAAA,IAAI,EAAER,WADJ;AAEFS,IAAAA,OAAO,EAAE;AAACc,MAAAA,OAAO,EAAED;AAAV;AAFP,GAAN;AAIH;AAED,OAAO,SAASE,SAAT,CAAmBlB,IAAnB,EAAwB;AAC3B,SAAM;AACFE,IAAAA,IAAI,EAAET,UADJ;AAEFU,IAAAA,OAAO,EAAC,EAAC,GAAGH;AAAJ;AAFN,GAAN;AAIH","sourcesContent":["import {APPEND_MESSAGE, IS_TYPING, NOT_TYPING, JUST_JOINED, LOAD_MESSAGES } from '../types';\r\n\r\nexport function loadMessages(){\r\n    return async dispatch =>{\r\n        try{\r\n            const response = await fetch('http://localhost:8080/api/messages');\r\n            const data = await response.json();\r\n            dispatch({\r\n                type: LOAD_MESSAGES,\r\n                payload: data,\r\n            })\r\n        }\r\n        catch(err){\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function AppendMessage(data){\r\n    return async dispatch => {\r\n        console.log({...data})\r\n        try{\r\n            const response = await fetch('http://localhost:8080/api/messages',{\r\n                headers:{'Contetnt-Type': 'application/json'},\r\n                method: 'POST',\r\n                body: JSON.stringify(data),\r\n            });\r\n            const req = await response.json();\r\n            // console.log(req)\r\n\r\n            dispatch({\r\n                type: APPEND_MESSAGE,\r\n                payload: {...data},\r\n            })\r\n        }\r\n        catch(err){\r\n            console.log(err)\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nexport function isTyping(data){\r\n    return{\r\n        type: IS_TYPING,\r\n        payload: {...data},\r\n    }\r\n}\r\n\r\nexport function justJoined(bool){\r\n    return{\r\n        type: JUST_JOINED,\r\n        payload: {success: bool},\r\n    }\r\n}\r\n\r\nexport function notTyping(data){\r\n    return{\r\n        type: NOT_TYPING,\r\n        payload:{...data},\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}